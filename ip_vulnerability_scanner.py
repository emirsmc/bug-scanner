import socket
import requests
import subprocess

class IPVulnerabilityScanner:
    def __init__(self, target_ip):
        self.target_ip = target_ip

    def ip_reconnaissance(self):
        print(f'Reconnaissance for IP {self.target_ip}...')
        # Perform some basic reconnaissance using a whois command
        result = subprocess.run(['whois', self.target_ip], capture_output=True, text=True)
        print(result.stdout)

    def port_scanning(self):
        print(f'Scanning ports for {self.target_ip}...')
        open_ports = []
        for port in range(1, 1025):  # Typical scan range
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
                if s.connect_ex((self.target_ip, port)) == 0:
                    open_ports.append(port)
        print(f'Open ports: {open_ports}')

    def vulnerability_checking(self):
        print(f'Checking for vulnerabilities on {self.target_ip}...')
        # Placeholder for vulnerability checking logic
        try:
            response = requests.get(f'http://{self.target_ip}')
            if response.status_code == 200:
                print(f'Vulnerability found: Open HTTP on {self.target_ip}')
            else:
                print(f'HTTP response code: {response.status_code}')
        except requests.ConnectionError:
            print(f'Could not connect to {self.target_ip}')

if __name__ == '__main__':
    target_ip = input('Enter the target IP: ')
    scanner = IPVulnerabilityScanner(target_ip)
    scanner.ip_reconnaissance()
    scanner.port_scanning()
    scanner.vulnerability_checking()
